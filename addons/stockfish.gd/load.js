const dl=(url,onFinishDownload)=>{fetch(url).then(response=>response.arrayBuffer()).then(data=>onFinishDownload(data))};window.stockfish=null;let stockfish_state='LOADING';let output='';window.stockfishCommand=function(command){window.stockfish.postMessage(command)};const loadStockfish=async params=>{return await Stockfish(params)};const onFinishDownload=data=>{if(!data){window.stockfish_state='FAILED';window.stockfish_failed_load();return}loadStockfish({wasmBinary:data}).then(_stockfish=>{window.stockfish=_stockfish;window.stockfish_state='READY';window.stockfish.addMessageListener(line=>window.stockfish_data_recieved(line));window.stockfish_ready()}).catch(e=>{window.stockfish_state='FAILED';window.stockfish_failed_load();throw e})};dl('./lib/stockfish.wasm',onFinishDownload);
